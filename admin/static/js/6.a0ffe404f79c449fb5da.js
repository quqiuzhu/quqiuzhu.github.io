webpackJsonp([6],{"1alW":function(e,t,r){var n=r("kM2E");n(n.S,"Number",{isInteger:r("AKgy")})},"5Ft8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5mnF"),o=r("f76V"),u=r("VU/8"),a=u(n.a,o.a,null,null,null);t.default=a.exports},"5mnF":function(e,t,r){"use strict";var n=r("woOf"),o=r.n(n),u=r("vMJZ"),a=r("E4LH");t.a={name:"UserEditor",props:{user:{type:Object,default:function(){return{name:"",phone:"",mail:"",password:""}}},onAction:{type:Function,default:null}},data:function(){return{loading:!1,formRules:{name:[{required:!0,trigger:"blur",validator:a.a}],phone:[{required:!0,trigger:"blur",validator:a.b}],password:[{required:!0,trigger:"blur",validator:a.c}]}}},methods:{cancel:function(){this.$refs.form.resetFields(),this.onAction(!1)},submit:function(){var e=this;this.$refs.form.validate(function(t){if(t){e.loading=!0;var n=o()({},e.user);(n.id?r.i(u.f)(n.id,n):r.i(u.g)(n)).then(function(t){e.loading=!1,e.$message({message:"提交成功",type:"success"}),e.onAction(!0),e.$refs.form.resetFields()}).catch(function(){e.loading=!1})}})}}}},AKgy:function(e,t,r){var n=r("EqjI"),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},E4LH:function(e,t,r){"use strict";function n(e){return/^1[0-9]{10}$/.test(e)}function o(e,t,r){n(t)?r():r(new Error("请输入正确的手机号"))}function u(e,t,r){t.length<2?r(new Error("用户名至少2个字符")):r()}function a(e,t,r){t.length<6?r(new Error("密码不能小于6位")):r()}function i(e,t,r){t.length<2||t.length>16?r(new Error("请输入2-16个字")):r()}function s(e,t,r){t.length<8||t.length>255?r(new Error("请输入8-255个字")):r()}function l(e,t,r){t.length>0&&t.length<60?r():r(new Error("服务器地址为必填"))}t.b=o,t.a=u,t.c=a,t.e=i,t.f=s,t.d=l;var c=r("RRo+");r.n(c)},"RRo+":function(e,t,r){e.exports={default:r("c45H"),__esModule:!0}},c45H:function(e,t,r){r("1alW"),e.exports=r("FeBl").Number.isInteger},f76V:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{model:e.user,"label-width":"80px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"名字",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.user.name,callback:function(t){e.user.name=t},expression:"user.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话",prop:"phone"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.user.phone,callback:function(t){e.user.phone=t},expression:"user.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"mail"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.user.mail,callback:function(t){e.user.mail=t},expression:"user.mail"}})],1),e._v(" "),e.user.id?e._e():r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.user.password,callback:function(t){e.user.password=t},expression:"user.password"}})],1),e._v(" "),r("el-form-item",[r("el-button",{nativeOn:{click:function(t){e.cancel(t)}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){e.submit(t)}}},[e._v("提交")])],1)],1)},o=[],u={render:n,staticRenderFns:o};t.a=u},vMJZ:function(e,t,r){"use strict";function n(e){return r.i(c.a)({url:"/users",method:"get",params:e})}function o(e){return r.i(c.a)({url:"/users",method:"post",data:e})}function u(e,t){return r.i(c.a)({url:"/user/"+e,method:"put",data:t})}function a(e){return r.i(c.a)({url:"/user/"+e,method:"delete"})}function i(e){return r.i(c.a)({url:"/users",method:"delete",data:{ids:e}})}function s(e,t){return r.i(c.a)({url:"/user/"+e+"/member",method:"put",data:{days:t}})}function l(e,t){return r.i(c.a)({url:"/user/"+e+"/password",method:"put",data:{password:t}})}t.b=n,t.g=o,t.f=u,t.d=a,t.e=i,t.a=s,t.c=l;var c=r("Vo7i")}});
//# sourceMappingURL=6.a0ffe404f79c449fb5da.js.map