webpackJsonp([7],{"1alW":function(e,t,r){var n=r("kM2E");n(n.S,"Number",{isInteger:r("AKgy")})},"9xg2":function(e,t,r){"use strict";var n=r("woOf"),o=r.n(n),s=r("HZZI"),i=r("E4LH");t.a={hostname:"ServerEditor",props:{server:{type:Object,default:function(){return{hostname:"",port:"",method:"",passwd:""}}},onAction:{type:Function,default:null}},data:function(){return{loading:!1,formRules:{hostname:[{required:!0,trigger:"blur",validator:i.d}],passwd:[{required:!0,trigger:"blur",validator:i.c}]}}},methods:{cancel:function(){this.$refs.form.resetFields(),this.onAction(!1)},submit:function(){var e=this;this.$refs.form.validate(function(t){if(t){e.loading=!0;var n=o()({},e.server);(n.id?r.i(s.c)(n.id,n):r.i(s.d)(n)).then(function(t){e.loading=!1,e.$message({message:"提交成功",type:"success"}),e.onAction(!0),e.$refs.form.resetFields()}).catch(function(){e.loading=!1})}})}}}},AKgy:function(e,t,r){var n=r("EqjI"),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},E4LH:function(e,t,r){"use strict";function n(e){return/^1[0-9]{10}$/.test(e)}function o(e,t,r){n(t)?r():r(new Error("请输入正确的手机号"))}function s(e,t,r){t.length<2?r(new Error("用户名至少2个字符")):r()}function i(e,t,r){t.length<6?r(new Error("密码不能小于6位")):r()}function a(e,t,r){t.length<2||t.length>16?r(new Error("请输入2-16个字")):r()}function u(e,t,r){t.length<8||t.length>255?r(new Error("请输入8-255个字")):r()}function l(e,t,r){t.length>0&&t.length<60?r():r(new Error("服务器地址为必填"))}t.b=o,t.a=s,t.c=i,t.e=a,t.f=u,t.d=l;var c=r("RRo+");r.n(c)},HZZI:function(e,t,r){"use strict";function n(e){return r.i(v.a)({url:"/server/"+e,method:"get"})}function o(e){return r.i(v.a)({url:"/servers",method:"get",params:e})}function s(e){return r.i(v.a)({url:"/servers",method:"post",data:e})}function i(e,t){return r.i(v.a)({url:"/server/"+e,method:"put",data:t})}function a(e){return r.i(v.a)({url:"/server/"+e+"/online",method:"post",data:{id:e}})}function u(e){return r.i(v.a)({url:"/servers/online",method:"post",data:{ids:e}})}function l(e){return r.i(v.a)({url:"/server/"+e+"/offline",method:"post",data:{id:e}})}function c(e){return r.i(v.a)({url:"/servers/offline",method:"post",data:{ids:e}})}function d(e){return r.i(v.a)({url:"/server/"+e,method:"delete",data:{id:e}})}function f(e){return r.i(v.a)({url:"/servers",method:"delete",data:{ids:e}})}function m(e,t){return r.i(v.a)({url:"/server/"+e+"/assign",method:"post",data:{uid:t}})}t.a=n,t.e=o,t.d=s,t.c=i,t.f=a,t.g=u,t.h=l,t.i=c,t.j=d,t.k=f,t.b=m;var v=r("Vo7i")},"RRo+":function(e,t,r){e.exports={default:r("c45H"),__esModule:!0}},b8ms:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{model:e.server,"label-width":"80px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"服务器",prop:"hostname"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.server.hostname,callback:function(t){e.server.hostname=t},expression:"server.hostname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"端口",prop:"port"}},[r("el-input-number",{attrs:{"auto-complete":"off"},model:{value:e.server.port,callback:function(t){e.server.port=t},expression:"server.port"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"加密方式",prop:"method"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.server.method,callback:function(t){e.server.method=t},expression:"server.method"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"passwd"}},[r("el-input",{attrs:{disabled:3==e.server.status,"auto-complete":"off"},model:{value:e.server.passwd,callback:function(t){e.server.passwd=t},expression:"server.passwd"}}),e._v(" "),3==e.server.status?r("span",{staticStyle:{color:"gray"}},[e._v("\n      如需更改密码，请先将其下线\n    ")]):e._e()],1),e._v(" "),r("el-form-item",[r("el-button",{nativeOn:{click:function(t){e.cancel(t)}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){e.submit(t)}}},[e._v("提交")])],1)],1)},o=[],s={render:n,staticRenderFns:o};t.a=s},c45H:function(e,t,r){r("1alW"),e.exports=r("FeBl").Number.isInteger},iGW1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("9xg2"),o=r("b8ms"),s=r("VU/8"),i=s(n.a,o.a,null,null,null);t.default=i.exports}});
//# sourceMappingURL=7.348e9b1707b5424817f8.js.map