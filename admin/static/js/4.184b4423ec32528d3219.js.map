{"version":3,"sources":["webpack:///static/js/4.184b4423ec32528d3219.js","webpack:///src/views/product/editor.vue","webpack:///./~/core-js/library/modules/es6.number.is-integer.js?bf65**","webpack:///./src/views/product/index.vue?02ed","webpack:///./~/core-js/library/modules/_is-integer.js?0b73**","webpack:///./src/utils/validate.js?1382**","webpack:///./src/views/product/editor.vue","webpack:///./src/views/product/editor.vue?f663","webpack:///./~/babel-runtime/core-js/number/is-integer.js?14ca**","webpack:///./src/views/product/index.vue","webpack:///./src/api/product.js","webpack:///./~/core-js/library/fn/number/is-integer.js?0be2**","webpack:///src/views/product/index.vue","webpack:///./src/api/counter.js"],"names":["webpackJsonp","0oqJ","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1__api_product__","__WEBPACK_IMPORTED_MODULE_2__utils_validate__","name","props","product","type","Object","default","title","description","price","orig_price","days","onAction","Function","data","loading","formRules","required","trigger","validator","methods","cancel","this","$refs","resetFields","submit","_this","form","validate","valid","parseInt","id","i","then","res","$message","message","catch","1alW","exports","$export","S","isInteger","6MxL","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","padding-bottom","attrs","span","inline","icon","on","click","add","_v","float","fetchProducts","aria-hidden","directives","rawName","value","expression","width","items","highlight-current-row","prop","label","min-width","scopedSlots","_u","key","fn","scope","size","$event","edit","$index","row","buyPackage","layout","page-size","params","count","total","current-page","page","current-change","pageChanged","editeTitle","close-on-click-modal","model","callback","$$v","editerVisible","onEdited","editingProduct","staticRenderFns","esExports","AKgy","isObject","floor","Math","it","isFinite","E4LH","isvalidPhone","str","test","phoneValidator","rule","Error","nameValidator","length","passwordValidator","titleValidator","descriptionValidator","hostnameValidator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer__","EgoN","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editor_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5ca8d6e7_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_editor_vue__","normalizeComponent","Component","HYxH","ref","label-width","rules","placeholder","auto-complete","min","step","max","nativeOn","RRo+","__esModule","SKi1","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51a7ecc8_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","UgCr","products","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","addProduct","updateProduct","removeProduct","c45H","Number","xntx","__WEBPACK_IMPORTED_MODULE_1__editor__","__WEBPACK_IMPORTED_MODULE_2__api_product__","__WEBPACK_IMPORTED_MODULE_3__api_counter__","components","ProductEditor","start","created","list","index","valueChanged","remove","_this2","$confirm","_this3","WP","err","console","log","yEme","buy","channel","package","orders","updateOrderPrice","order"],"mappings":"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","file":"static/js/4.184b4423ec32528d3219.js","sourcesContent":["webpackJsonp([4,8],{\n\n/***/ \"0oqJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_product__ = __webpack_require__(\"UgCr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_validate__ = __webpack_require__(\"E4LH\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'ProductEditor',\n  props: {\n    product: {\n      type: Object,\n      default: function _default() {\n        return {\n          title: '',\n          description: '',\n          price: 128,\n          orig_price: 160,\n          days: 365\n        };\n      }\n    },\n    onAction: {\n      type: Function,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      formRules: {\n        title: [{ required: true, trigger: 'blur', validator: __WEBPACK_IMPORTED_MODULE_2__utils_validate__[\"e\" /* titleValidator */] }],\n        description: [{ required: true, trigger: 'blur', validator: __WEBPACK_IMPORTED_MODULE_2__utils_validate__[\"f\" /* descriptionValidator */] }]\n      }\n    };\n  },\n\n  methods: {\n    cancel: function cancel() {\n      this.$refs['form'].resetFields();\n      this.onAction(false);\n    },\n    submit: function submit() {\n      var _this = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n          var product = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, _this.product);\n          product.price = parseInt(product.price * 100);\n          product.orig_price = parseInt(product.orig_price * 100);\n          var api = product.id ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_product__[\"c\" /* updateProduct */])(product.id, product) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_product__[\"d\" /* addProduct */])(product);\n          api.then(function (res) {\n            _this.loading = false;\n            _this.$message({ message: '提交成功', type: 'success' });\n            _this.onAction(true);\n            _this.$refs['form'].resetFields();\n          }).catch(function () {\n            _this.loading = false;\n          });\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"1alW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.3 Number.isInteger(number)\nvar $export = __webpack_require__(\"kM2E\");\n\n$export($export.S, 'Number', { isInteger: __webpack_require__(\"AKgy\") });\n\n\n/***/ }),\n\n/***/ \"6MxL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    },\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"plus\"\n    },\n    on: {\n      \"click\": _vm.add\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"float\": \"right\"\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.fetchProducts\n    }\n  }, [_c('i', {\n    staticClass: \"fa fa-refresh\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  })])], 1)], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.items,\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"label\": \"ID\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"title\",\n      \"label\": \"标题\",\n      \"width\": \"120\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"description\",\n      \"label\": \"描述\",\n      \"min-width\": \"160\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"price\",\n      \"label\": \"价格\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"orig_price\",\n      \"label\": \"原价\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"days\",\n      \"label\": \"时长(天)\",\n      \"width\": \"100\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.edit(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"toolbar\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.buyPackage\n    }\n  }, [_vm._v(\"购买\")]), _vm._v(\" \"), _c('el-pagination', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    attrs: {\n      \"layout\": \"prev, pager, next\",\n      \"page-size\": _vm.params.count,\n      \"total\": _vm.total,\n      \"current-page\": _vm.page\n    },\n    on: {\n      \"current-change\": _vm.pageChanged\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.editeTitle,\n      \"close-on-click-modal\": false\n    },\n    model: {\n      value: (_vm.editerVisible),\n      callback: function($$v) {\n        _vm.editerVisible = $$v\n      },\n      expression: \"editerVisible\"\n    }\n  }, [_c('product-editor', {\n    attrs: {\n      \"onAction\": _vm.onEdited,\n      \"product\": _vm.editingProduct\n    }\n  })], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"AKgy\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.3 Number.isInteger(number)\nvar isObject = __webpack_require__(\"EqjI\");\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n/***/ }),\n\n/***/ \"E4LH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export isvalidPhone */\n/* unused harmony export isvalidPassword */\n/* unused harmony export validateURL */\n/* unused harmony export validateLowerCase */\n/* unused harmony export validateUpperCase */\n/* unused harmony export validatAlphabets */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = phoneValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = nameValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = passwordValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = titleValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = descriptionValidator;\n/* unused harmony export idValidator */\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = hostnameValidator;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer__ = __webpack_require__(\"RRo+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer__);\n\n\n/* 合法电话号码 */\nfunction isvalidPhone(str) {\n  var urlregex = /^1[0-9]{10}$/;\n  return urlregex.test(str);\n}\n\n/* 合法密码 */\nfunction isvalidPassword(str) {\n  var urlregex = /^(\\w){6,20}$/;\n  return urlregex.test(str);\n}\n\n/* 合法uri*/\nfunction validateURL(textval) {\n  var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n  return urlregex.test(textval);\n}\n\n/* 小写字母*/\nfunction validateLowerCase(str) {\n  var reg = /^[a-z]+$/;\n  return reg.test(str);\n}\n\n/* 大写字母*/\nfunction validateUpperCase(str) {\n  var reg = /^[A-Z]+$/;\n  return reg.test(str);\n}\n\n/* 大小写字母*/\nfunction validatAlphabets(str) {\n  var reg = /^[A-Za-z]+$/;\n  return reg.test(str);\n}\n\nfunction phoneValidator(rule, value, callback) {\n  if (!isvalidPhone(value)) {\n    callback(new Error('请输入正确的手机号'));\n  } else {\n    callback();\n  }\n}\n\nfunction nameValidator(rule, value, callback) {\n  if (value.length < 2) {\n    callback(new Error('用户名至少2个字符'));\n  } else {\n    callback();\n  }\n}\n\nfunction passwordValidator(rule, value, callback) {\n  if (value.length < 6) {\n    callback(new Error('密码不能小于6位'));\n  } else {\n    callback();\n  }\n}\n\nfunction titleValidator(rule, value, callback) {\n  if (value.length < 2 || value.length > 16) {\n    callback(new Error('请输入2-16个字'));\n  } else {\n    callback();\n  }\n}\n\nfunction descriptionValidator(rule, value, callback) {\n  if (value.length < 8 || value.length > 255) {\n    callback(new Error('请输入8-255个字'));\n  } else {\n    callback();\n  }\n}\n\nfunction idValidator(rule, value, callback) {\n  if (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer___default()(value)) {\n    callback(new Error('请输入数字ID'));\n  } else {\n    callback();\n  }\n}\n\nfunction hostnameValidator(rule, value, callback) {\n  if (value.length > 0 && value.length < 60) {\n    callback();\n  } else {\n    callback(new Error('服务器地址为必填'));\n  }\n}\n\n/***/ }),\n\n/***/ \"EgoN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editor_vue__ = __webpack_require__(\"0oqJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5ca8d6e7_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_editor_vue__ = __webpack_require__(\"HYxH\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editor_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5ca8d6e7_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_editor_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"HYxH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.product,\n      \"label-width\": \"80px\",\n      \"rules\": _vm.formRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"标题\",\n      \"prop\": \"title\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"标题(2-16个字)\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.product.title),\n      callback: function($$v) {\n        _vm.product.title = $$v\n      },\n      expression: \"product.title\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"description\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"请输入套餐描述(8-255个字)\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.product.description),\n      callback: function($$v) {\n        _vm.product.description = $$v\n      },\n      expression: \"product.description\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"套餐时长\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择套餐时长\"\n    },\n    model: {\n      value: (_vm.product.days),\n      callback: function($$v) {\n        _vm.product.days = $$v\n      },\n      expression: \"product.days\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"一年\",\n      \"value\": \"365\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"半年\",\n      \"value\": \"180\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"三个月\",\n      \"value\": \"90\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"一个月\",\n      \"value\": \"31\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"体验周\",\n      \"value\": \"5\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"价格\"\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 10\n    }\n  }, [_c('el-input-number', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"min\": 0.01,\n      \"step\": 1,\n      \"max\": 1000\n    },\n    model: {\n      value: (_vm.product.price),\n      callback: function($$v) {\n        _vm.product.price = $$v\n      },\n      expression: \"product.price\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 11\n    }\n  }, [_c('span', [_vm._v(\"原价 \")]), _vm._v(\" \"), _c('el-input-number', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"min\": 1,\n      \"step\": 10,\n      \"max\": 1000\n    },\n    model: {\n      value: (_vm.product.orig_price),\n      callback: function($$v) {\n        _vm.product.orig_price = $$v\n      },\n      expression: \"product.orig_price\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancel($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.submit($event)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"RRo+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"c45H\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"SKi1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"xntx\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51a7ecc8_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"6MxL\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51a7ecc8_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"UgCr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = products;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = addProduct;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = updateProduct;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = removeProduct;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n\nfunction products(params) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/products',\n    method: 'get',\n    params: params\n  });\n}\n\nfunction addProduct(product) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/products',\n    method: 'post',\n    data: product\n  });\n}\n\nfunction updateProduct(id, product) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/product/' + id,\n    method: 'put',\n    data: product\n  });\n}\n\nfunction removeProduct(id) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/product/' + id,\n    method: 'delete'\n  });\n}\n\n/***/ }),\n\n/***/ \"c45H\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"1alW\");\nmodule.exports = __webpack_require__(\"FeBl\").Number.isInteger;\n\n\n/***/ }),\n\n/***/ \"xntx\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editor__ = __webpack_require__(\"EgoN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_product__ = __webpack_require__(\"UgCr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_counter__ = __webpack_require__(\"yEme\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tcomponents: { ProductEditor: __WEBPACK_IMPORTED_MODULE_1__editor__[\"default\"] },\n\tdata: function data() {\n\t\treturn {\n\t\t\tparams: {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: 10\n\t\t\t},\n\n\t\t\titems: [],\n\t\t\ttotal: 0,\n\t\t\tpage: 1,\n\t\t\tloading: false,\n\n\t\t\tediteTitle: '',\n\t\t\tediterVisible: false,\n\t\t\teditingProduct: {}\n\t\t};\n\t},\n\tcreated: function created() {\n\t\tthis.fetchProducts();\n\t},\n\n\tmethods: {\n\t\tfetchProducts: function fetchProducts() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.loading = true;\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_product__[\"a\" /* products */])(this.params).then(function (data) {\n\t\t\t\t_this.items = data.list;\n\t\t\t\t_this.total = data.total;\n\t\t\t\t_this.loading = false;\n\t\t\t}).catch(function () {\n\t\t\t\t_this.loading = false;\n\t\t\t});\n\t\t},\n\t\tpageChanged: function pageChanged(page) {\n\t\t\tthis.params.start = (page - 1) * this.params.count;\n\t\t\tthis.fetchProducts();\n\t\t},\n\n\n\t\t//添加\n\t\tadd: function add() {\n\t\t\tthis.editeTitle = '添加';\n\t\t\tthis.editerVisible = true;\n\t\t\tthis.editingProduct = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, {\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t\tprice: 128,\n\t\t\t\torig_price: 160,\n\t\t\t\tdays: 365\n\t\t\t});\n\t\t},\n\n\t\t//编辑\n\t\tedit: function edit(index, row) {\n\t\t\tthis.editeTitle = '编辑';\n\t\t\tthis.editerVisible = true;\n\t\t\tthis.editingProduct = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, row);\n\t\t},\n\t\tonEdited: function onEdited(valueChanged) {\n\t\t\tthis.editerVisible = false;\n\t\t\tif (!this.editingProduct.id) {\n\t\t\t\tthis.page = 1;\n\t\t\t}\n\t\t\tif (valueChanged) {\n\t\t\t\tthis.fetchProducts();\n\t\t\t}\n\t\t},\n\n\t\t//删除\n\t\tremove: function remove(index, row) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar message = '确认要删除「' + row.title + '」吗?';\n\t\t\tthis.$confirm(message, '提示', {\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(function () {\n\t\t\t\t_this2.loading = true;\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_product__[\"b\" /* removeProduct */])(row.id).then(function (res) {\n\t\t\t\t\t_this2.loading = false;\n\t\t\t\t\t_this2.$message({ message: '删除成功', type: 'success' });\n\t\t\t\t\tfetchProducts();\n\t\t\t\t}).catch(function () {\n\t\t\t\t\t_this2.loading = false;\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tbuyPackage: function buyPackage() {\n\t\t\tvar _this3 = this;\n\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__api_counter__[\"a\" /* buy */])('month', 'ali').then(function (data) {\n\t\t\t\t_this3.loading = false;\n\t\t\t\tWP.click(data);\n\t\t\t\tWP.err = function (err) {\n\t\t\t\t\tthis.$message({ message: '支付失败', type: 'warning' });\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t};\n\t\t\t}).catch(function () {\n\t\t\t\t_this3.loading = false;\n\t\t\t});\n\t\t}\n\t}\n});\n\n/***/ }),\n\n/***/ \"yEme\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = buy;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = orders;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = updateOrderPrice;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n\nfunction buy(type, channel) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/counter/buy',\n    method: 'post',\n    data: {\n      'package': type,\n      'channel': channel\n    }\n  });\n}\n\nfunction orders(params) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/counter/orders',\n    method: 'get',\n    params: params\n  });\n}\n\nfunction updateOrderPrice(id, order) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/order/' + id,\n    method: 'put',\n    data: order\n  });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.184b4423ec32528d3219.js","<template>\n  <el-form :model=\"product\" label-width=\"80px\" :rules=\"formRules\" ref=\"form\">\n    <el-form-item label=\"标题\" prop=\"title\">\n      <el-input v-model=\"product.title\" placeholder=\"标题(2-16个字)\" auto-complete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"描述\" prop=\"description\">\n      <el-input type=\"textarea\" v-model=\"product.description\" placeholder=\"请输入套餐描述(8-255个字)\" auto-complete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"套餐时长\">\n    <el-select v-model=\"product.days\" placeholder=\"请选择套餐时长\">\n      <el-option label=\"一年\" value=\"365\"></el-option>\n      <el-option label=\"半年\" value=\"180\"></el-option>\n      <el-option label=\"三个月\" value=\"90\"></el-option>\n      <el-option label=\"一个月\" value=\"31\"></el-option>\n      <el-option label=\"体验周\" value=\"5\"></el-option>\n    </el-select>\n  </el-form-item>\n    <el-form-item label=\"价格\">\n      <el-col :span=\"10\">\n      <el-input-number v-model=\"product.price\" auto-complete=\"off\" :min=\"0.01\" :step=\"1\" :max=\"1000\"></el-input-number>\n      </el-col>\n      <el-col :span=\"11\">\n        <span>原价&nbsp;</span>\n        <el-input-number v-model=\"product.orig_price\" auto-complete=\"off\" :min=\"1\" :step=\"10\" :max=\"1000\"></el-input-number>\n      </el-col>\n    </el-form-item>\n    <el-form-item>\n      <el-button @click.native=\"cancel\">取消</el-button>\n      <el-button type=\"primary\" @click.native=\"submit\"\n      :loading=\"loading\">提交</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { addProduct, updateProduct } from '@/api/product'\nimport { titleValidator, descriptionValidator } from '@/utils/validate'\n\nexport default {\n  name: 'ProductEditor',\n  props: {\n    product: {\n      type: Object,\n      default: function () {\n        return {\n          title: '',\n          description: '',\n          price: 128,\n          orig_price: 160,\n          days: 365\n        }\n      }\n    },\n    onAction: {\n      type: Function,\n      default: null\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      formRules: {\n        title: [\n          { required: true, trigger: 'blur', validator: titleValidator }\n        ],\n        description: [\n          { required: true, trigger: 'blur', validator: descriptionValidator }\n        ],\n      }\n    }\n  },\n  methods: {\n    cancel: function () {\n      this.$refs['form'].resetFields();\n      this.onAction(false)\n    },\n    submit: function () {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.loading = true;\n          let product = Object.assign({}, this.product);\n          product.price = parseInt(product.price * 100)\n          product.orig_price = parseInt(product.orig_price * 100)\n          let api = product.id ? updateProduct(product.id, product) : addProduct(product)\n          api.then((res) => {\n            this.loading = false;\n            this.$message({message: '提交成功',type: 'success'});\n            this.onAction(true)\n            this.$refs['form'].resetFields();\n          }).catch(() => {\n            this.loading = false\n          });\n        }\n      });\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/product/editor.vue?09adefa2","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.number.is-integer.js\n// module id = 1alW\n// module chunks = 1 2 3 4 5 6 7 8","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    },\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"plus\"\n    },\n    on: {\n      \"click\": _vm.add\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"float\": \"right\"\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.fetchProducts\n    }\n  }, [_c('i', {\n    staticClass: \"fa fa-refresh\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  })])], 1)], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.items,\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"label\": \"ID\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"title\",\n      \"label\": \"标题\",\n      \"width\": \"120\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"description\",\n      \"label\": \"描述\",\n      \"min-width\": \"160\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"price\",\n      \"label\": \"价格\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"orig_price\",\n      \"label\": \"原价\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"days\",\n      \"label\": \"时长(天)\",\n      \"width\": \"100\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.edit(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"toolbar\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.buyPackage\n    }\n  }, [_vm._v(\"购买\")]), _vm._v(\" \"), _c('el-pagination', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    attrs: {\n      \"layout\": \"prev, pager, next\",\n      \"page-size\": _vm.params.count,\n      \"total\": _vm.total,\n      \"current-page\": _vm.page\n    },\n    on: {\n      \"current-change\": _vm.pageChanged\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.editeTitle,\n      \"close-on-click-modal\": false\n    },\n    model: {\n      value: (_vm.editerVisible),\n      callback: function($$v) {\n        _vm.editerVisible = $$v\n      },\n      expression: \"editerVisible\"\n    }\n  }, [_c('product-editor', {\n    attrs: {\n      \"onAction\": _vm.onEdited,\n      \"product\": _vm.editingProduct\n    }\n  })], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-51a7ecc8\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/product/index.vue\n// module id = 6MxL\n// module chunks = 4","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-integer.js\n// module id = AKgy\n// module chunks = 1 2 3 4 5 6 7 8","\n/* 合法电话号码 */\nexport function isvalidPhone(str) {\n  const urlregex = /^1[0-9]{10}$/\n  return urlregex.test(str)\n}\n\n/* 合法密码 */\nexport function isvalidPassword(str) {\n  const urlregex = /^(\\w){6,20}$/\n  return urlregex.test(str)\n}\n\n/* 合法uri*/\nexport function validateURL(textval) {\n  const urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/\n  return urlregex.test(textval)\n}\n\n/* 小写字母*/\nexport function validateLowerCase(str) {\n  const reg = /^[a-z]+$/\n  return reg.test(str)\n}\n\n/* 大写字母*/\nexport function validateUpperCase(str) {\n  const reg = /^[A-Z]+$/\n  return reg.test(str)\n}\n\n/* 大小写字母*/\nexport function validatAlphabets(str) {\n  const reg = /^[A-Za-z]+$/\n  return reg.test(str)\n}\n\nexport function phoneValidator(rule, value, callback) {\n  if (!isvalidPhone(value)) {\n    callback(new Error('请输入正确的手机号'))\n  } else {\n    callback()\n  }\n}\n\nexport function nameValidator(rule, value, callback) {\n  if (value.length < 2) {\n    callback(new Error('用户名至少2个字符'))\n  } else {\n    callback()\n  }\n}\n\nexport function passwordValidator(rule, value, callback) {\n  if (value.length < 6) {\n    callback(new Error('密码不能小于6位'))\n  } else {\n    callback()\n  }\n}\n\n\nexport function titleValidator(rule, value, callback) {\n  if (value.length < 2 || value.length > 16) {\n    callback(new Error('请输入2-16个字'))\n  } else {\n    callback()\n  }\n}\n\n\nexport function descriptionValidator(rule, value, callback) {\n  if (value.length < 8 || value.length > 255) {\n    callback(new Error('请输入8-255个字'))\n  } else {\n    callback()\n  }\n}\n\nexport function idValidator(rule, value, callback) {\n  if (Number.isInteger(value)) {\n    callback(new Error('请输入数字ID'))\n  } else {\n    callback()\n  }\n}\n\nexport function hostnameValidator(rule, value, callback) {\n  if (value.length > 0 && value.length < 60) {\n    callback()\n  } else {\n    callback(new Error('服务器地址为必填'))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validate.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ca8d6e7\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editor.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/product/editor.vue\n// module id = EgoN\n// module chunks = 4 8","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.product,\n      \"label-width\": \"80px\",\n      \"rules\": _vm.formRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"标题\",\n      \"prop\": \"title\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"标题(2-16个字)\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.product.title),\n      callback: function($$v) {\n        _vm.product.title = $$v\n      },\n      expression: \"product.title\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"description\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"请输入套餐描述(8-255个字)\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.product.description),\n      callback: function($$v) {\n        _vm.product.description = $$v\n      },\n      expression: \"product.description\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"套餐时长\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择套餐时长\"\n    },\n    model: {\n      value: (_vm.product.days),\n      callback: function($$v) {\n        _vm.product.days = $$v\n      },\n      expression: \"product.days\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"一年\",\n      \"value\": \"365\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"半年\",\n      \"value\": \"180\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"三个月\",\n      \"value\": \"90\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"一个月\",\n      \"value\": \"31\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"体验周\",\n      \"value\": \"5\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"价格\"\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 10\n    }\n  }, [_c('el-input-number', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"min\": 0.01,\n      \"step\": 1,\n      \"max\": 1000\n    },\n    model: {\n      value: (_vm.product.price),\n      callback: function($$v) {\n        _vm.product.price = $$v\n      },\n      expression: \"product.price\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 11\n    }\n  }, [_c('span', [_vm._v(\"原价 \")]), _vm._v(\" \"), _c('el-input-number', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"min\": 1,\n      \"step\": 10,\n      \"max\": 1000\n    },\n    model: {\n      value: (_vm.product.orig_price),\n      callback: function($$v) {\n        _vm.product.orig_price = $$v\n      },\n      expression: \"product.orig_price\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancel($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.submit($event)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ca8d6e7\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/product/editor.vue\n// module id = HYxH\n// module chunks = 4 8","module.exports = { \"default\": require(\"core-js/library/fn/number/is-integer\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/number/is-integer.js\n// module id = RRo+\n// module chunks = 1 2 3 4 5 6 7 8","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51a7ecc8\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/product/index.vue\n// module id = SKi1\n// module chunks = 4","import fetch from '@/utils/fetch'\n\nexport function products(params) {\n  return fetch({\n    url: '/products',\n    method: 'get',\n    params: params\n  })\n}\n\nexport function addProduct(product) {\n  return fetch({\n    url: '/products',\n    method: 'post',\n    data: product\n  })\n}\n\nexport function updateProduct(id, product) {\n  return fetch({\n    url: '/product/'+id,\n    method: 'put',\n    data: product\n  })\n}\n\nexport function removeProduct(id) {\n  return fetch({\n    url: '/product/'+id,\n    method: 'delete'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/product.js","require('../../modules/es6.number.is-integer');\nmodule.exports = require('../../modules/_core').Number.isInteger;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/number/is-integer.js\n// module id = c45H\n// module chunks = 1 2 3 4 5 6 7 8","<template>\n\t<section>\n\t\t<!--工具条-->\n\t\t<el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px;\">\n\t\t\t<el-form :inline=\"true\">\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button type=\"primary\" icon=\"plus\" @click=\"add\"/>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item style=\"float:right;\">\n\t\t\t\t\t<el-button @click=\"fetchProducts\"><i class=\"fa fa-refresh\" aria-hidden=\"true\"></i></el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</el-col>\n\n\t\t<!--列表-->\n\t\t<el-table :data=\"items\" highlight-current-row v-loading=\"loading\" style=\"width: 100%;\">\n\t\t\t<el-table-column prop=\"id\" label=\"ID\" width=\"80\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"title\" label=\"标题\" width=\"120\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"description\" label=\"描述\" min-width=\"160\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"price\" label=\"价格\" width=\"80\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"orig_price\" label=\"原价\" width=\"80\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"days\" label=\"时长(天)\" width=\"100\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\" width=\"100\">\n\t\t\t\t<template scope=\"scope\">\n\t\t\t\t\t<el-button size=\"small\" @click=\"edit(scope.$index, scope.row)\">编辑</el-button>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\t\t<!--工具条-->\n\t\t<el-col :span=\"24\" class=\"toolbar\">\n\t\t\t<el-button type=\"primary\" @click=\"buyPackage\">购买</el-button>\n\t\t\t<el-pagination layout=\"prev, pager, next\" @current-change=\"pageChanged\" :page-size=\"params.count\" :total=\"total\" :current-page=\"page\" style=\"float:right;\">\n\t\t\t</el-pagination>\n\t\t</el-col>\n\n\t\t<el-dialog :title=\"editeTitle\"\n\t\tv-model=\"editerVisible\"\n\t\t:close-on-click-modal=\"false\">\n\t\t\t<product-editor\n\t\t\t\t:onAction=\"onEdited\"\n\t\t\t\t:product=\"editingProduct\">\n\t\t\t</product-editor>\n\t\t</el-dialog>\n\t</section>\n</template>\n\n<script>\nimport ProductEditor from './editor'\nimport { products, removeProduct } from '@/api/product'\nimport { buy } from '@/api/counter'\n\nexport default {\n\tcomponents: { ProductEditor },\n  data() {\n    return {\n      params: {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: 10\n      },\n\n      items: [],\n      total: 0,\n\t\t\tpage: 1,\n      loading: false,\n\n\t\t\tediteTitle: '',\n\t\t\tediterVisible: false,\n\t\t\teditingProduct: {}\n    }\n  },\n  created() {\n    this.fetchProducts()\n  },\n  methods: {\n    fetchProducts() {\n      this.loading = true\n      products(this.params).then(data => {\n        this.items = data.list\n\t\t\t\tthis.total = data.total\n        this.loading = false\n      }).catch(() => {\n\t\t\t\tthis.loading = false;\n\t\t\t})\n    },\n\n    pageChanged(page) {\n      this.params.start = (page - 1) * this.params.count;\n      this.fetchProducts()\n    },\n\n\t\t//添加\n\t\tadd: function () {\n\t\t\tthis.editeTitle = '添加'\n\t\t\tthis.editerVisible = true\n\t\t\tthis.editingProduct = Object.assign({}, {\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t\tprice: 128,\n\t\t\t\torig_price: 160,\n\t\t\t\tdays: 365\n\t\t\t})\n\t\t},\n\n\t\t//编辑\n\t\tedit: function (index, row) {\n\t\t\tthis.editeTitle = '编辑'\n\t\t\tthis.editerVisible = true;\n\t\t\tthis.editingProduct = Object.assign({}, row);\n\t\t},\n\t\tonEdited: function (valueChanged) {\n\t\t\tthis.editerVisible = false;\n\t\t\tif (!this.editingProduct.id) {\n\t\t\t\tthis.page = 1\n\t\t\t}\n\t\t\tif (valueChanged) {\n\t\t\t\tthis.fetchProducts()\n\t\t\t}\n\t\t},\n\n\t\t//删除\n\t\tremove: function (index, row) {\n\t\t\tlet message = '确认要删除「' + row.title + '」吗?'\n\t\t\tthis.$confirm(message, '提示', {\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tthis.loading = true;\n\t\t\t\tremoveProduct(row.id).then((res) => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.$message({message: '删除成功', type: 'success'})\n\t\t\t\t\tfetchProducts()\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\tbuyPackage: function () {\n\t\t\tbuy('month', 'ali').then((data) => {\n\t\t\t\tthis.loading = false;\n\t\t\t\tWP.click(data)\n\t\t\t\tWP.err = function(err) {\n\t\t\t\t\tthis.$message({message: '支付失败', type: 'warning'})\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\tthis.loading = false;\n\t\t\t})\n\t\t}\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/product/index.vue?2cf5b8bf","import fetch from '@/utils/fetch'\n\nexport function buy (type, channel) {\n  return fetch({\n    url: '/counter/buy',\n    method: 'post',\n    data: {\n      'package': type,\n      'channel': channel\n    }\n  })\n}\n\nexport function orders(params) {\n  return fetch({\n    url: '/counter/orders',\n    method: 'get',\n    params: params\n  })\n}\n\nexport function updateOrderPrice(id, order) {\n  return fetch({\n    url: '/order/'+id,\n    method: 'put',\n    data: order\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/counter.js"],"sourceRoot":""}