webpackJsonp([8],{"0oqJ":function(t,e,r){"use strict";var o=r("woOf"),n=r.n(o),i=r("UgCr"),l=r("E4LH");e.a={name:"ProductEditor",props:{product:{type:Object,default:function(){return{title:"",description:"",price:128,orig_price:160,days:365}}},onAction:{type:Function,default:null}},data:function(){return{loading:!1,formRules:{title:[{required:!0,trigger:"blur",validator:l.e}],description:[{required:!0,trigger:"blur",validator:l.f}]}}},methods:{cancel:function(){this.$refs.form.resetFields(),this.onAction(!1)},submit:function(){var t=this;this.$refs.form.validate(function(e){if(e){t.loading=!0;var o=n()({},t.product);o.price=parseInt(100*o.price),o.orig_price=parseInt(100*o.orig_price);(o.id?r.i(i.c)(o.id,o):r.i(i.d)(o)).then(function(e){t.loading=!1,t.$message({message:"提交成功",type:"success"}),t.onAction(!0),t.$refs.form.resetFields()}).catch(function(){t.loading=!1})}})}}}},"1alW":function(t,e,r){var o=r("kM2E");o(o.S,"Number",{isInteger:r("AKgy")})},AKgy:function(t,e,r){var o=r("EqjI"),n=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&n(t)===t}},E4LH:function(t,e,r){"use strict";function o(t){return/^1[0-9]{10}$/.test(t)}function n(t,e,r){o(e)?r():r(new Error("请输入正确的手机号"))}function i(t,e,r){e.length<2?r(new Error("用户名至少2个字符")):r()}function l(t,e,r){e.length<6?r(new Error("密码不能小于6位")):r()}function c(t,e,r){e.length<2||e.length>16?r(new Error("请输入2-16个字")):r()}function a(t,e,r){e.length<8||e.length>255?r(new Error("请输入8-255个字")):r()}function u(t,e,r){e.length>0&&e.length<60?r():r(new Error("服务器地址为必填"))}e.b=n,e.a=i,e.c=l,e.e=c,e.f=a,e.d=u;var s=r("RRo+");r.n(s)},EgoN:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("0oqJ"),n=r("HYxH"),i=r("VU/8"),l=i(o.a,n.a,null,null,null);e.default=l.exports},HYxH:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{ref:"form",attrs:{model:t.product,"label-width":"80px",rules:t.formRules}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{placeholder:"标题(2-16个字)","auto-complete":"off"},model:{value:t.product.title,callback:function(e){t.product.title=e},expression:"product.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"描述",prop:"description"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入套餐描述(8-255个字)","auto-complete":"off"},model:{value:t.product.description,callback:function(e){t.product.description=e},expression:"product.description"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"套餐时长"}},[r("el-select",{attrs:{placeholder:"请选择套餐时长"},model:{value:t.product.days,callback:function(e){t.product.days=e},expression:"product.days"}},[r("el-option",{attrs:{label:"一年",value:"365"}}),t._v(" "),r("el-option",{attrs:{label:"半年",value:"180"}}),t._v(" "),r("el-option",{attrs:{label:"三个月",value:"90"}}),t._v(" "),r("el-option",{attrs:{label:"一个月",value:"31"}}),t._v(" "),r("el-option",{attrs:{label:"体验周",value:"5"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"价格"}},[r("el-col",{attrs:{span:10}},[r("el-input-number",{attrs:{"auto-complete":"off",min:.01,step:1,max:1e3},model:{value:t.product.price,callback:function(e){t.product.price=e},expression:"product.price"}})],1),t._v(" "),r("el-col",{attrs:{span:11}},[r("span",[t._v("原价 ")]),t._v(" "),r("el-input-number",{attrs:{"auto-complete":"off",min:1,step:10,max:1e3},model:{value:t.product.orig_price,callback:function(e){t.product.orig_price=e},expression:"product.orig_price"}})],1)],1),t._v(" "),r("el-form-item",[r("el-button",{nativeOn:{click:function(e){t.cancel(e)}}},[t._v("取消")]),t._v(" "),r("el-button",{attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(e){t.submit(e)}}},[t._v("提交")])],1)],1)},n=[],i={render:o,staticRenderFns:n};e.a=i},"RRo+":function(t,e,r){t.exports={default:r("c45H"),__esModule:!0}},UgCr:function(t,e,r){"use strict";function o(t){return r.i(c.a)({url:"/products",method:"get",params:t})}function n(t){return r.i(c.a)({url:"/products",method:"post",data:t})}function i(t,e){return r.i(c.a)({url:"/product/"+t,method:"put",data:e})}function l(t){return r.i(c.a)({url:"/product/"+t,method:"delete"})}e.a=o,e.d=n,e.c=i,e.b=l;var c=r("Vo7i")},c45H:function(t,e,r){r("1alW"),t.exports=r("FeBl").Number.isInteger}});
//# sourceMappingURL=8.630c19edfe206649200b.js.map