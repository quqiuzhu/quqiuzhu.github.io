webpackJsonp([4,8],{"0oqJ":function(t,e,i){"use strict";var r=i("woOf"),n=i.n(r),o=i("UgCr"),a=i("E4LH");e.a={name:"ProductEditor",props:{product:{type:Object,default:function(){return{title:"",description:"",price:128,orig_price:160,days:365}}},onAction:{type:Function,default:null}},data:function(){return{loading:!1,formRules:{title:[{required:!0,trigger:"blur",validator:a.e}],description:[{required:!0,trigger:"blur",validator:a.f}]}}},methods:{cancel:function(){this.$refs.form.resetFields(),this.onAction(!1)},submit:function(){var t=this;this.$refs.form.validate(function(e){if(e){t.loading=!0;var r=n()({},t.product);r.price=parseInt(100*r.price),r.orig_price=parseInt(100*r.orig_price);(r.id?i.i(o.c)(r.id,r):i.i(o.d)(r)).then(function(e){t.loading=!1,t.$message({message:"提交成功",type:"success"}),t.onAction(!0),t.$refs.form.resetFields()}).catch(function(){t.loading=!1})}})}}}},"1alW":function(t,e,i){var r=i("kM2E");r(r.S,"Number",{isInteger:i("AKgy")})},"2gQ7":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.add}})],1),t._v(" "),i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{on:{click:t.fetchProducts}},[i("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}})])],1)],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.items,"highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"标题",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"160"}}),t._v(" "),i("el-table-column",{attrs:{prop:"price",label:"价格",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"orig_price",label:"原价",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"days",label:"时长(天)",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(i){t.edit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),i("el-col",{staticClass:"toolbar",attrs:{span:24}},[i("el-button",{attrs:{type:"primary"},on:{click:t.buyPackage}},[t._v("购买")]),t._v(" "),i("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":t.params.count,total:t.total,"current-page":t.page},on:{"current-change":t.pageChanged}})],1),t._v(" "),i("el-dialog",{attrs:{title:t.editeTitle,"close-on-click-modal":!1},model:{value:t.editerVisible,callback:function(e){t.editerVisible=e},expression:"editerVisible"}},[i("product-editor",{attrs:{onAction:t.onEdited,product:t.editingProduct}})],1)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},AKgy:function(t,e,i){var r=i("EqjI"),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},E4LH:function(t,e,i){"use strict";function r(t){return/^1[0-9]{10}$/.test(t)}function n(t,e,i){r(e)?i():i(new Error("请输入正确的手机号"))}function o(t,e,i){e.length<2?i(new error("用户名至少2个字符")):i()}function="" a(t,e,i){e.length<6?i(new="" error("密码不能小于6位")):i()}function="" l(t,e,i){e.length<2||e.length="">16?i(new Error("请输入2-16个字")):i()}function c(t,e,i){e.length<8||e.length>255?i(new Error("请输入8-255个字")):i()}function s(t,e,i){e.length>0&&e.length</8||e.length></2?i(new>