{"version":3,"sources":["webpack:///static/js/6.74dc80937eb6ff8a374a.js","webpack:///./~/core-js/library/modules/es6.number.is-integer.js?bf65****","webpack:///./src/views/user/editor.vue?895b*","webpack:///./src/views/user/editor.vue?3d5b","webpack:///src/views/user/editor.vue?ca5a","webpack:///./~/core-js/library/modules/_is-integer.js?0b73****","webpack:///./src/utils/validate.js?1382****","webpack:///./~/babel-runtime/core-js/number/is-integer.js?14ca****","webpack:///./~/core-js/library/fn/number/is-integer.js?0be2****","webpack:///./src/api/user.js?bcc2"],"names":["webpackJsonp","1alW","module","exports","__webpack_require__","$export","S","isInteger","517L","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","user","label-width","rules","formRules","label","prop","auto-complete","value","callback","$$v","name","expression","_v","phone","mail","id","_e","type","password","nativeOn","click","$event","cancel","loading","submit","staticRenderFns","esExports","5Ft8","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editor_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1712934c_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_editor_vue__","normalizeComponent","Component","5mnF","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1__api_user__","__WEBPACK_IMPORTED_MODULE_2__utils_validate__","props","default","onAction","Function","data","required","trigger","validator","methods","$refs","resetFields","_this","form","validate","valid","i","then","res","$message","message","catch","AKgy","isObject","floor","Math","it","isFinite","E4LH","isvalidPhone","str","test","phoneValidator","rule","Error","nameValidator","length","passwordValidator","titleValidator","descriptionValidator","hostnameValidator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer__","RRo+","__esModule","c45H","Number","vMJZ","users","params","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","addUser","updateUser","removeUser","batchRemoveUser","ids","updateMember","uid","days","updatePassword"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,EAASC,GCFjC,GAAAC,GAAAD,EAAA,OAEAC,KAAAC,EAAA,UAA8BC,UAAAH,EAAA,WDUxBI,OACA,SAAUN,EAAQO,EAAqBL,GAE7C,YEhBA,IAAAM,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CACjE,OAAAE,GAAA,WACAE,IAAA,OACAC,OACAC,MAAAR,EAAAS,KACAC,cAAA,OACAC,MAAAX,EAAAY,aAEGR,EAAA,gBACHG,OACAM,MAAA,KACAC,KAAA,UAEGV,EAAA,YACHG,OACAQ,gBAAA,OAEAP,OACAQ,MAAAhB,EAAAS,KAAA,KACAQ,SAAA,SAAAC,GACAlB,EAAAS,KAAAU,KAAAD,GAEAE,WAAA,gBAEG,GAAApB,EAAAqB,GAAA,KAAAjB,EAAA,gBACHG,OACAM,MAAA,KACAC,KAAA,WAEGV,EAAA,YACHG,OACAQ,gBAAA,OAEAP,OACAQ,MAAAhB,EAAAS,KAAA,MACAQ,SAAA,SAAAC,GACAlB,EAAAS,KAAAa,MAAAJ,GAEAE,WAAA,iBAEG,GAAApB,EAAAqB,GAAA,KAAAjB,EAAA,gBACHG,OACAM,MAAA,KACAC,KAAA,UAEGV,EAAA,YACHG,OACAQ,gBAAA,OAEAP,OACAQ,MAAAhB,EAAAS,KAAA,KACAQ,SAAA,SAAAC,GACAlB,EAAAS,KAAAc,KAAAL,GAEAE,WAAA,gBAEG,GAAApB,EAAAqB,GAAA,KAAArB,EAAAS,KAAAe,GAiBAxB,EAAAyB,KAjBArB,EAAA,gBACHG,OACAM,MAAA,KACAC,KAAA,cAEGV,EAAA,YACHG,OACAmB,KAAA,WACAX,gBAAA,OAEAP,OACAQ,MAAAhB,EAAAS,KAAA,SACAQ,SAAA,SAAAC,GACAlB,EAAAS,KAAAkB,SAAAT,GAEAE,WAAA,oBAEG,GAAApB,EAAAqB,GAAA,KAAAjB,EAAA,gBAAAA,EAAA,aACHwB,UACAC,MAAA,SAAAC,GACA9B,EAAA+B,OAAAD,OAGG9B,EAAAqB,GAAA,QAAArB,EAAAqB,GAAA,KAAAjB,EAAA,aACHG,OACAmB,KAAA,UACAM,QAAAhC,EAAAgC,SAEAJ,UACAC,MAAA,SAAAC,GACA9B,EAAAiC,OAAAH,OAGG9B,EAAAqB,GAAA,iBAEHa,KACAC,GAAiBpC,SAAAmC,kBACjBpC,GAAA,KFqBMsC,OACA,SAAU7C,EAAQO,EAAqBL,GAE7C,YACA4C,QAAOC,eAAexC,EAAqB,cAAgBkB,OAAO,GAC7C,IAAIuB,GAAkH9C,EAAoB,QGvH/J+C,EAAA/C,EAAA,QAAAgD,EAAAhD,EAAA,QAWAiD,EAAAD,EACAF,EAAA,EACAC,EAAA,EAPA,KAEA,KAEA,KASA1C,GAAA,QAAA4C,EAAA,SH8HMC,OACA,SAAUpD,EAAQO,EAAqBL,GAE7C,YACqB,IAAImD,GAAoEnD,EAAoB,QACxFoD,EAA4EpD,EAAoBqD,EAAEF,GAClGG,EAA0CtD,EAAoB,QAC9DuD,EAAgDvD,EAAoB,OI7H7FK,GAAA,GJ2JEqB,KIzJF,aJ0JE8B,OACExC,MACEiB,KIzJNW,OJ0JMa,QAAS,WACP,OACE/B,KIzJV,GJ0JUG,MIzJV,GJ0JUC,KIzJV,GJ0JUI,SIxJV,MJ4JIwB,UACEzB,KIzJN0B,SJ0JMF,QIvJN,OJ0JEG,KAAM,WACJ,OACErB,SIzJN,EJ0JMpB,WACEO,OIzJRmC,UAAA,EAAAC,QAAA,OAAAC,UAEAR,EAAA,IJwJQ1B,QIvJRgC,UAAA,EAAAC,QAAA,OAAAC,UAEAR,EAAA,IJsJQrB,WIrJR2B,UAAA,EAAAC,QAAA,OAAAC,UAIAR,EAAA,OJsJES,SACE1B,OAAQ,WACN9B,KAAKyD,MAAY,KIpJvBC,cJqJM1D,KAAKkD,UIpJX,IJsJIlB,OAAQ,WIpJZ,GAAA2B,GAAA3D,IJuJMA,MAAKyD,MAAMG,KAAKC,SAAS,SAAUC,GACjC,GAAIA,EItJZ,CJuJUH,EAAM5B,SItJhB,CJuJU,IAAIvB,GAAOoC,OAAgFe,EItJrGnD,OJuJoBA,EAAKe,GAAK/B,EAAoBuE,EAAEjB,EAA4D,GAAGtC,EAAKe,GAAIf,GAAQhB,EAAoBuE,EAAEjB,EAAyD,GItJnNtC,IJuJcwD,KAAK,SAAUC,GACjBN,EAAM5B,SItJlB,EJuJY4B,EAAMO,UAAWC,QAAS,OAAQ1C,KItJ9C,YJuJYkC,EAAMT,UItJlB,GJuJYS,EAAMF,MAAY,KItJ9BC,gBJuJaU,MAAM,WACPT,EAAM5B,SItJlB,WJgKMsC,KACA,SAAU/E,EAAQC,EAASC,GKhPjC,GAAA8E,GAAA9E,EAAA,QACA+E,EAAAC,KAAAD,KACAjF,GAAAC,QAAA,SAAAkF,GACA,OAAAH,EAAAG,IAAAC,SAAAD,IAAAF,EAAAE,SLyPME,KACA,SAAUrF,EAAQO,EAAqBL,GAE7C,YM9PO,SAASoF,GAAaC,GAE3B,MADiB,eACDC,KAAKD,GAiChB,QAASE,GAAeC,EAAMjE,EAAOC,GACrC4D,EAAa7D,GAGhBC,IAFAA,EAAS,GAAIiE,OAAM,cAMhB,QAASC,GAAcF,EAAMjE,EAAOC,GACrCD,EAAMoE,OAAS,EACjBnE,EAAS,GAAIiE,OAAM,cAEnBjE,IAIG,QAASoE,GAAkBJ,EAAMjE,EAAOC,GACzCD,EAAMoE,OAAS,EACjBnE,EAAS,GAAIiE,OAAM,aAEnBjE,IAKG,QAASqE,GAAeL,EAAMjE,EAAOC,GACtCD,EAAMoE,OAAS,GAAKpE,EAAMoE,OAAS,GACrCnE,EAAS,GAAIiE,OAAM,cAEnBjE,IAKG,QAASsE,GAAqBN,EAAMjE,EAAOC,GAC5CD,EAAMoE,OAAS,GAAKpE,EAAMoE,OAAS,IACrCnE,EAAS,GAAIiE,OAAM,eAEnBjE,IAYG,QAASuE,GAAkBP,EAAMjE,EAAOC,GACzCD,EAAMoE,OAAS,GAAKpE,EAAMoE,OAAS,GACrCnE,IAEAA,EAAS,GAAIiE,OAAM,aN4KUpF,EAAuB,EAAIkF,EAC3BlF,EAAuB,EAAIqF,EAC3BrF,EAAuB,EAAIuF,EAC3BvF,EAAuB,EAAIwF,EAC3BxF,EAAuB,EAAIyF,EAE3BzF,EAAuB,EAAI0F,CACvC,IAAIC,GAAwEhG,EAAoB,OACZA,GAAoBqD,EAAE2C,IAiGzHC,OACA,SAAUnG,EAAQC,EAASC,GOjXjCF,EAAAC,SAAkB0D,QAAAzD,EAAA,QAAAkG,YAAA,IPuXZC,KACA,SAAUrG,EAAQC,EAASC,GQxXjCA,EAAA,QACAF,EAAAC,QAAAC,EAAA,QAAAoG,OAAAjG,WR+XMkG,KACA,SAAUvG,EAAQO,EAAqBL,GAE7C,YSjYO,SAASsG,GAAMC,GACpB,MAAOvG,GAAAuE,EAAAiC,EAAA,IACLC,IAAK,SACLC,OAAQ,MACRH,OAAQA,IAIL,QAASI,GAAQ3F,GACtB,MAAOhB,GAAAuE,EAAAiC,EAAA,IACLC,IAAK,SACLC,OAAQ,OACR9C,KAAM5C,IAWH,QAAS4F,GAAW7E,EAAIf,GAC7B,MAAOhB,GAAAuE,EAAAiC,EAAA,IACLC,IAAK,SAAS1E,EACd2E,OAAQ,MACR9C,KAAM5C,IAIH,QAAS6F,GAAW9E,GACzB,MAAO/B,GAAAuE,EAAAiC,EAAA,IACLC,IAAK,SAAS1E,EACd2E,OAAQ,WAIL,QAASI,GAAgBC,GAC9B,MAAO/G,GAAAuE,EAAAiC,EAAA,IACLC,IAAK,SACLC,OAAQ,SACR9C,MACEmD,IAAKA,KAKJ,QAASC,GAAaC,EAAKC,GAChC,MAAOlH,GAAAuE,EAAAiC,EAAA,IACLC,IAAK,SAASQ,EAAI,UAClBP,OAAQ,MACR9C,MACEsD,KAAMA,KAKL,QAASC,GAAeF,EAAK/E,GAClC,MAAOlC,GAAAuE,EAAAiC,EAAA,IACLC,IAAK,SAASQ,EAAI,YAClBP,OAAQ,MACR9C,MACE1B,SAAUA,KTmUiB7B,EAAuB,EAAIiG,EAC3BjG,EAAuB,EAAIsG,EAE3BtG,EAAuB,EAAIuG,EAC3BvG,EAAuB,EAAIwG,EAC3BxG,EAAuB,EAAIyG,EAC3BzG,EAAuB,EAAI2G,EAC3B3G,EAAuB,EAAI8G,CACvC,IAAIX,GAA6CxG,EAAoB","file":"static/js/6.74dc80937eb6ff8a374a.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ \"1alW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.3 Number.isInteger(number)\nvar $export = __webpack_require__(\"kM2E\");\n\n$export($export.S, 'Number', { isInteger: __webpack_require__(\"AKgy\") });\n\n\n/***/ }),\n\n/***/ \"517L\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.user,\n      \"label-width\": \"80px\",\n      \"rules\": _vm.formRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"名字\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.name),\n      callback: function($$v) {\n        _vm.user.name = $$v\n      },\n      expression: \"user.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"电话\",\n      \"prop\": \"phone\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.phone),\n      callback: function($$v) {\n        _vm.user.phone = $$v\n      },\n      expression: \"user.phone\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"mail\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.mail),\n      callback: function($$v) {\n        _vm.user.mail = $$v\n      },\n      expression: \"user.mail\"\n    }\n  })], 1), _vm._v(\" \"), (!_vm.user.id) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.password),\n      callback: function($$v) {\n        _vm.user.password = $$v\n      },\n      expression: \"user.password\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancel($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.submit($event)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"5Ft8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editor_vue__ = __webpack_require__(\"5mnF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1712934c_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_editor_vue__ = __webpack_require__(\"517L\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editor_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1712934c_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_editor_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"5mnF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_user__ = __webpack_require__(\"vMJZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_validate__ = __webpack_require__(\"E4LH\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'UserEditor',\n  props: {\n    user: {\n      type: Object,\n      default: function _default() {\n        return {\n          name: '',\n          phone: '',\n          mail: '',\n          password: ''\n        };\n      }\n    },\n    onAction: {\n      type: Function,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      formRules: {\n        name: [{ required: true, trigger: 'blur', validator: __WEBPACK_IMPORTED_MODULE_2__utils_validate__[\"a\" /* nameValidator */] }],\n        phone: [{ required: true, trigger: 'blur', validator: __WEBPACK_IMPORTED_MODULE_2__utils_validate__[\"b\" /* phoneValidator */] }],\n        password: [{ required: true, trigger: 'blur', validator: __WEBPACK_IMPORTED_MODULE_2__utils_validate__[\"c\" /* passwordValidator */] }]\n      }\n    };\n  },\n\n  methods: {\n    cancel: function cancel() {\n      this.$refs['form'].resetFields();\n      this.onAction(false);\n    },\n    submit: function submit() {\n      var _this = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n          var user = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, _this.user);\n          var api = user.id ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_user__[\"f\" /* updateUser */])(user.id, user) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_user__[\"g\" /* addUser */])(user);\n          api.then(function (res) {\n            _this.loading = false;\n            _this.$message({ message: '提交成功', type: 'success' });\n            _this.onAction(true);\n            _this.$refs['form'].resetFields();\n          }).catch(function () {\n            _this.loading = false;\n          });\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"AKgy\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.3 Number.isInteger(number)\nvar isObject = __webpack_require__(\"EqjI\");\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n/***/ }),\n\n/***/ \"E4LH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export isvalidPhone */\n/* unused harmony export isvalidPassword */\n/* unused harmony export validateURL */\n/* unused harmony export validateLowerCase */\n/* unused harmony export validateUpperCase */\n/* unused harmony export validatAlphabets */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = phoneValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = nameValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = passwordValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = titleValidator;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = descriptionValidator;\n/* unused harmony export idValidator */\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = hostnameValidator;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer__ = __webpack_require__(\"RRo+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer__);\n\n\n/* 合法电话号码 */\nfunction isvalidPhone(str) {\n  var urlregex = /^1[0-9]{10}$/;\n  return urlregex.test(str);\n}\n\n/* 合法密码 */\nfunction isvalidPassword(str) {\n  var urlregex = /^(\\w){6,20}$/;\n  return urlregex.test(str);\n}\n\n/* 合法uri*/\nfunction validateURL(textval) {\n  var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n  return urlregex.test(textval);\n}\n\n/* 小写字母*/\nfunction validateLowerCase(str) {\n  var reg = /^[a-z]+$/;\n  return reg.test(str);\n}\n\n/* 大写字母*/\nfunction validateUpperCase(str) {\n  var reg = /^[A-Z]+$/;\n  return reg.test(str);\n}\n\n/* 大小写字母*/\nfunction validatAlphabets(str) {\n  var reg = /^[A-Za-z]+$/;\n  return reg.test(str);\n}\n\nfunction phoneValidator(rule, value, callback) {\n  if (!isvalidPhone(value)) {\n    callback(new Error('请输入正确的手机号'));\n  } else {\n    callback();\n  }\n}\n\nfunction nameValidator(rule, value, callback) {\n  if (value.length < 2) {\n    callback(new Error('用户名至少2个字符'));\n  } else {\n    callback();\n  }\n}\n\nfunction passwordValidator(rule, value, callback) {\n  if (value.length < 6) {\n    callback(new Error('密码不能小于6位'));\n  } else {\n    callback();\n  }\n}\n\nfunction titleValidator(rule, value, callback) {\n  if (value.length < 2 || value.length > 16) {\n    callback(new Error('请输入2-16个字'));\n  } else {\n    callback();\n  }\n}\n\nfunction descriptionValidator(rule, value, callback) {\n  if (value.length < 8 || value.length > 255) {\n    callback(new Error('请输入8-255个字'));\n  } else {\n    callback();\n  }\n}\n\nfunction idValidator(rule, value, callback) {\n  if (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_is_integer___default()(value)) {\n    callback(new Error('请输入数字ID'));\n  } else {\n    callback();\n  }\n}\n\nfunction hostnameValidator(rule, value, callback) {\n  if (value.length > 0 && value.length < 60) {\n    callback();\n  } else {\n    callback(new Error('服务器地址为必填'));\n  }\n}\n\n/***/ }),\n\n/***/ \"RRo+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"c45H\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"c45H\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"1alW\");\nmodule.exports = __webpack_require__(\"FeBl\").Number.isInteger;\n\n\n/***/ }),\n\n/***/ \"vMJZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = users;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = addUser;\n/* unused harmony export user */\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = updateUser;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = removeUser;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = batchRemoveUser;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = updateMember;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = updatePassword;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n\nfunction users(params) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/users',\n    method: 'get',\n    params: params\n  });\n}\n\nfunction addUser(user) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/users',\n    method: 'post',\n    data: user\n  });\n}\n\nfunction user(id) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/user/' + id,\n    method: 'get'\n  });\n}\n\nfunction updateUser(id, user) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/user/' + id,\n    method: 'put',\n    data: user\n  });\n}\n\nfunction removeUser(id) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/user/' + id,\n    method: 'delete'\n  });\n}\n\nfunction batchRemoveUser(ids) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/users',\n    method: 'delete',\n    data: {\n      ids: ids\n    }\n  });\n}\n\nfunction updateMember(uid, days) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/user/' + uid + '/member',\n    method: 'put',\n    data: {\n      days: days\n    }\n  });\n}\n\nfunction updatePassword(uid, password) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/user/' + uid + '/password',\n    method: 'put',\n    data: {\n      password: password\n    }\n  });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.74dc80937eb6ff8a374a.js","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.number.is-integer.js\n// module id = 1alW\n// module chunks = 1 2 3 4 5 6 7 8","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.user,\n      \"label-width\": \"80px\",\n      \"rules\": _vm.formRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"名字\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.name),\n      callback: function($$v) {\n        _vm.user.name = $$v\n      },\n      expression: \"user.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"电话\",\n      \"prop\": \"phone\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.phone),\n      callback: function($$v) {\n        _vm.user.phone = $$v\n      },\n      expression: \"user.phone\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"mail\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.mail),\n      callback: function($$v) {\n        _vm.user.mail = $$v\n      },\n      expression: \"user.mail\"\n    }\n  })], 1), _vm._v(\" \"), (!_vm.user.id) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.user.password),\n      callback: function($$v) {\n        _vm.user.password = $$v\n      },\n      expression: \"user.password\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancel($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.submit($event)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1712934c\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/editor.vue\n// module id = 517L\n// module chunks = 3 6","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1712934c\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editor.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/editor.vue\n// module id = 5Ft8\n// module chunks = 3 6","<template>\n  <el-form :model=\"user\" label-width=\"80px\" :rules=\"formRules\" ref=\"form\">\n    <el-form-item label=\"名字\" prop=\"name\">\n      <el-input v-model=\"user.name\" auto-complete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"电话\" prop=\"phone\">\n      <el-input v-model=\"user.phone\" auto-complete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"邮箱\" prop=\"mail\">\n      <el-input v-model=\"user.mail\" auto-complete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"密码\" prop=\"password\" v-if=\"!user.id\">\n      <el-input type=\"password\" v-model=\"user.password\" auto-complete=\"off\">\n      </el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-button @click.native=\"cancel\">取消</el-button>\n      <el-button type=\"primary\" @click.native=\"submit\"\n      :loading=\"loading\">提交</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { addUser, updateUser } from '@/api/user'\nimport { phoneValidator, passwordValidator, nameValidator } from '@/utils/validate'\n\nexport default {\n  name: 'UserEditor',\n  props: {\n    user: {\n      type: Object,\n      default: function () {\n        return {\n          name: '',\n          phone: '',\n          mail: '',\n          password: ''\n        }\n      }\n    },\n    onAction: {\n      type: Function,\n      default: null\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      formRules: {\n        name: [\n          { required: true, trigger: 'blur', validator: nameValidator }\n        ],\n        phone: [\n          { required: true, trigger: 'blur', validator: phoneValidator }\n        ],\n        password: [\n          { required: true, trigger: 'blur', validator: passwordValidator }\n        ],\n      }\n    }\n  },\n  methods: {\n    cancel: function () {\n      this.$refs['form'].resetFields();\n      this.onAction(false)\n    },\n    submit: function () {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.loading = true;\n          let user = Object.assign({}, this.user);\n          let api = user.id ? updateUser(user.id, user) : addUser(user)\n          api.then((res) => {\n            this.loading = false;\n            this.$message({message: '提交成功',type: 'success'});\n            this.onAction(true)\n            this.$refs['form'].resetFields();\n          }).catch(() => {\n            this.loading = false\n          });\n        }\n      });\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/editor.vue?207c571a","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-integer.js\n// module id = AKgy\n// module chunks = 1 2 3 4 5 6 7 8","\n/* 合法电话号码 */\nexport function isvalidPhone(str) {\n  const urlregex = /^1[0-9]{10}$/\n  return urlregex.test(str)\n}\n\n/* 合法密码 */\nexport function isvalidPassword(str) {\n  const urlregex = /^(\\w){6,20}$/\n  return urlregex.test(str)\n}\n\n/* 合法uri*/\nexport function validateURL(textval) {\n  const urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/\n  return urlregex.test(textval)\n}\n\n/* 小写字母*/\nexport function validateLowerCase(str) {\n  const reg = /^[a-z]+$/\n  return reg.test(str)\n}\n\n/* 大写字母*/\nexport function validateUpperCase(str) {\n  const reg = /^[A-Z]+$/\n  return reg.test(str)\n}\n\n/* 大小写字母*/\nexport function validatAlphabets(str) {\n  const reg = /^[A-Za-z]+$/\n  return reg.test(str)\n}\n\nexport function phoneValidator(rule, value, callback) {\n  if (!isvalidPhone(value)) {\n    callback(new Error('请输入正确的手机号'))\n  } else {\n    callback()\n  }\n}\n\nexport function nameValidator(rule, value, callback) {\n  if (value.length < 2) {\n    callback(new Error('用户名至少2个字符'))\n  } else {\n    callback()\n  }\n}\n\nexport function passwordValidator(rule, value, callback) {\n  if (value.length < 6) {\n    callback(new Error('密码不能小于6位'))\n  } else {\n    callback()\n  }\n}\n\n\nexport function titleValidator(rule, value, callback) {\n  if (value.length < 2 || value.length > 16) {\n    callback(new Error('请输入2-16个字'))\n  } else {\n    callback()\n  }\n}\n\n\nexport function descriptionValidator(rule, value, callback) {\n  if (value.length < 8 || value.length > 255) {\n    callback(new Error('请输入8-255个字'))\n  } else {\n    callback()\n  }\n}\n\nexport function idValidator(rule, value, callback) {\n  if (Number.isInteger(value)) {\n    callback(new Error('请输入数字ID'))\n  } else {\n    callback()\n  }\n}\n\nexport function hostnameValidator(rule, value, callback) {\n  if (value.length > 0 && value.length < 60) {\n    callback()\n  } else {\n    callback(new Error('服务器地址为必填'))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validate.js","module.exports = { \"default\": require(\"core-js/library/fn/number/is-integer\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/number/is-integer.js\n// module id = RRo+\n// module chunks = 1 2 3 4 5 6 7 8","require('../../modules/es6.number.is-integer');\nmodule.exports = require('../../modules/_core').Number.isInteger;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/number/is-integer.js\n// module id = c45H\n// module chunks = 1 2 3 4 5 6 7 8","import fetch from '@/utils/fetch'\n\nexport function users(params) {\n  return fetch({\n    url: '/users',\n    method: 'get',\n    params: params\n  })\n}\n\nexport function addUser(user) {\n  return fetch({\n    url: '/users',\n    method: 'post',\n    data: user\n  })\n}\n\nexport function user(id) {\n  return fetch({\n    url: '/user/'+id,\n    method: 'get'\n  })\n}\n\nexport function updateUser(id, user) {\n  return fetch({\n    url: '/user/'+id,\n    method: 'put',\n    data: user\n  })\n}\n\nexport function removeUser(id) {\n  return fetch({\n    url: '/user/'+id,\n    method: 'delete'\n  })\n}\n\nexport function batchRemoveUser(ids) {\n  return fetch({\n    url: '/users',\n    method: 'delete',\n    data: {\n      ids: ids\n    }\n  })\n}\n\nexport function updateMember(uid, days) {\n  return fetch({\n    url: '/user/'+uid+'/member',\n    method: 'put',\n    data: {\n      days: days\n    }\n  })\n}\n\nexport function updatePassword(uid, password) {\n  return fetch({\n    url: '/user/'+uid+'/password',\n    method: 'put',\n    data: {\n      password: password\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/user.js"],"sourceRoot":""}